{"version":3,"sources":["routes.js"],"names":[],"mappings":"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","file":"routes-compiled.js","sourcesContent":["/**\r\n * Created by yuan on 2016/8/10.\r\n */\r\n\r\n'use strict'\r\n\r\nvar Index = require('../app/controllers/index')\r\nvar User = require('../app/controllers/user')\r\nvar Movie = require('../app/controllers/movie')\r\nvar Comment = require('../app/api/comments')\r\nvar Category = require('../app/controllers/category')\r\n\r\n//wechat\r\nvar Game = require('../app/controllers/game')\r\nvar Wechat = require('../app/controllers/wechat')\r\nvar koaBody = require('koa-body')\r\n\r\nmodule.exports = function(router) {\r\n\r\n    // pre handle user\r\n/*\r\n    app.use(function(req, res, next) {\r\n        var _user = req.session.user\r\n\r\n        app.locals.user = _user\r\n\r\n        next()\r\n    })\r\n*/\r\n    // Index\r\n    router.get('/', Index.index)\r\n\r\n    // User\r\n    router.post('/user/signup', User.signup)\r\n    router.post('/user/signin', User.signin)\r\n    router.get('/signin', User.showSignin)\r\n    router.get('/signup', User.showSignup)\r\n    router.get('/logout', User.logout)\r\n    router.get('/admin/user/list', User.signinRequired, User.adminRequired, User.list)\r\n\r\n\r\n    // Movie\r\n    router.get('/movie/:id', Movie.detail)\r\n    router.get('/admin/movie/new', User.signinRequired, User.adminRequired, Movie.new)\r\n    router.get('/admin/movie/update/:id', User.signinRequired, User.adminRequired, Movie.update)\r\n    router.post('/admin/movie',User.adminRequired, koaBody({multipart:true}), Movie.savePoster,  Movie.save)\r\n    router.get('/admin/movie/list', User.signinRequired, User.adminRequired, Movie.list)\r\n    router.delete('/admin/movie/list', User.signinRequired, User.adminRequired, Movie.del)\r\n\r\n\r\n    //weixin\r\n    router.get('/wechat/movie',Game.guess)\r\n    router.get('/wechat/movie/:id',Game.find)\r\n    router.get('/wechat/movie/movie/:name',Game.findName)\r\n    router.get('/wx',Wechat.hear)\r\n    router.post('/wx',Wechat.hear)\r\n\r\n    // Comment\r\n    router.post('/user/comment', User.signinRequired, Comment.save)\r\n\r\n    // Category\r\n    router.get('/admin/category/new', User.signinRequired, User.adminRequired, Category.new)\r\n    router.post('/admin/category', User.signinRequired, User.adminRequired, Category.save)\r\n    router.get('/admin/category/list', User.signinRequired, User.adminRequired, Category.list)\r\n\r\n    // results\r\n    router.get('/results', Index.search)\r\n}"]}